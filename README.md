# RedPitaya_GenApp

RedPitaya GenApp is a **GTKmm-based graphical application** designed to **manage, configure, and deploy CNN models** to RedPitaya devices.  
The app offers **offline and online export modes**, **RSA key management**, and full **SSH-based deployment**, of **Qualia generated models**.

The models generated can be ran on RedPitaya in realtime. 
Recommended version to use for full realtime capabilities: **process_sem**

---

## ✨ Features

- 🔐 **RSA Key Management:**
    - Generate and manage RSA keys (using `SSHManager` and `RSAKeyDialog`)
    - Automatically copy public keys to RedPitaya for passwordless SSH access

- 🔄 **Offline & Online Export Modes:**
    - **Offline:** Deploy using pre-generated files contained in **gen_files** folder
    - **Online:** Fetch and deploy models from GIT repositories (links of GIT repos can be found inside the **Source_Code/RedPitaya_GenApp_Online/src/Utility/ExportManager.cpp**

- 🖥️ **GTKmm Graphical Interface:**
    - User-friendly interface with modular button handling
    - Visual feedback (logs, progress bar,messages from dialog box etc.)

- 📤 **Export & Deployment Options:**
    - Browse and select CNN models
    - Export models locally or deploy directly to RedPitaya via SSH

- 📟 **Embedded AI & RT Components:**
    - Includes CMSIS-NN for fast and optimized CNN inference using SIMD
    - Real-time data acquisition and processing modules (ADC, DAC, multi-threading)

---

## 📂 Project Structure

```
.
├── RedPitaya_GenApp_Offline/     # Offline version: binaries, RSA features, and local deployment
├── RedPitaya_GenApp_Online/      # Online version: fetches from Git & deploys remotely
├── Source_Code/                  # Full source code
│   ├── RedPitaya_GenApp_Offline/
│   └── RedPitaya_GenApp_Online/
├── CHANGELOG.md                  # Project changelog
├── README.md                     # This documentation
```

Each version includes:

- `buttonsHandler/` — Modular handlers for UI buttons.
- `Utility/` — Core utility modules: SSHManager, RSAKeyDialog, ExportManager, etc.
- `gen_files/` (offline only) — Embedded components for RedPitaya: CMSIS libraries, ADC/DAC code, real-time synchronization mechanisms (mutex, semaphore, etc.).

---

## 🛠 Installation

### 1️⃣ Clone the repository

```bash
git clone https://github.com/aymanehajjaoui/RedPitaya_GenApp.git
cd RedPitaya_GenApp
```

### 2️⃣ Build the app

**Offline version:**

```bash
cd Source_Code/RedPitaya_GenApp_Offline
make
```

**Online version:**

```bash
cd Source_Code/RedPitaya_GenApp_Online
make
```

🔧 *Note: You don't need to clean and rebuild, you can just use:*

```bash
make
```
It will clean, compile and launsh the app automatically from the build directory

---

## ⚙️ Usage

### Launch the application:

- **Offline:**
  ```bash
  ./RedPitaya_GenApp_Offline/gen_app
  ```

- **Online:**
  ```bash
  ./RedPitaya_GenApp_Online/gen_app
  ```

### Main buttons:

- **Browse Model:**  
  Select a CNN model folder (generated by Qualia).

- **Export Locally:**  
  Exports the model to your local directory (for testing or backup).

- **Connect to RedPitaya:**  
  SSH connection management with RSA key support (no password needed once set up).

- **Export to RedPitaya:**  
  Deploys the selected CNN model to RedPitaya over SSH.

- **Help / Quit:**  
  Access help documentation or exit the application.

---

## 🔑 RSA Key Management

- **Generate RSA key:**  
  Creates an SSH key pair for secure connections.

- **Copy RSA key to RedPitaya:**  
  Automatically uploads your public key for passwordless SSH login.

**Modules involved:**
- `RSAKeyDialog`
- `SSHManager`

---

## 🛠️ Advanced Modes (Offline)

Inside `gen_files/` you will find **different architectures**:

- `process_mutex/` — Multi-process using mutex synchronization
- `process_sem/` — Multi-process using semaphores
- `threads_mutex/` — Multi-threaded using mutex
- `threads_sem/` — Multi-threaded using semaphores (optimized for real-time)

Each contains:
- CMSIS core & neural network libraries
- Source code: acquisition, processing, DAC, etc.
- Makefile + `plot.py` for quick testing

---

## ✅ Dependencies

Make sure the following are installed:

- `gtkmm-3.0` or later
- `libssh`
- `g++`, `make`
- (Optional) `git` for online mode

**Tested on:**
- Ubuntu 22.04+
- RedPitaya STEMlab (with SSH access)

---

### 📦 Install commands (Ubuntu/Debian)

```bash
# Install GTKmm 3 and required dev packages
sudo apt update
sudo apt install libgtkmm-3.0-dev

# Install libssh
sudo apt install libssh-dev

# Install build tools
sudo apt install build-essential

# (Optional) Install git for online export mode
sudo apt install git
```

This has been tested on Ubuntu 22.04+.  

---

## 📝 Changelog

See [`CHANGELOG.md`](CHANGELOG.md) for detailed version history.

---

## 🛡️ License

This project is open-source.

---


